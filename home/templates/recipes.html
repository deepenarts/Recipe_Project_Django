{% extends 'base.html' %}
{% block body %}

<div class="container col-6 mt-4 mx-auto card shadow-lg mb-4 p-4">
    <form class="form" method="post" enctype="multipart/form-data">
    {% csrf_token %}
        <h1 class="ghost text-center">Add Recipe</h1>
        <div class="mb-3">  
          <label for="exampleInputEmail1" class="form-label">Recipe name</label>
          <input type="text" class="form-control" id="recipe_name" name="recipe_name" aria-describedby="emailHelp">
        </div>
        
        <div class="mb-3">  
          <label for="exampleInputEmail1" class="form-label">Recipe description</label>
          <textarea class= "form-control" id="recipe_description" name="recipe_description"> </textarea>
        </div>
        <div class="mb-3">  
          <label for="exampleInputEmail1" class="form-label">Image</label>
          <input type="file" class="form-control" id="recipe_image" name="recipe_image" aria-describedby="emailHelp">
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
</div>
<hr>

<div class="container mt-5 mx-auto p-4">
  <form>
    <div class="mb-3">
      <label for = "exampleInput">Search food </label>
      <input type = "text" name="search">
    </div>
    <button type = "submit" class="btn btn-primary">Search </button>
  </form>
  <hr>      
    <table class="table table-bordered table-success table-striped mt-4 mx-auto">
        <h2 class="ghost">Recipes</h2>
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Recipe</th>
            <th scope="col">Description</th>
            <th scope="col">Image</th>
            <th scope ="col">Action</th>
          </tr>
        </thead>
        <tbody>
            {%for recipe in recipes%}
            <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td>{{recipe.recipe_name}}</td>
                <td>{{recipe.recipe_description}}</td>
                <td>
                  <img src = "/media/{{recipe.recipe_image}}" style="height:100px">
                </td>
                <td> 
                  <a href="/delete_recipe/{{recipe.id}}/" class="btn btn-danger ">Delete</a>
                  <a href="/update_recipe/{{recipe.id}}/" class="btn btn-success ">Update</a>
                </td>
            </tr>
            {%endfor%}       
        </tbody>
      </table>
</div>

<div class="m-4">
  <h3>Log out</h3>
  <button class="btn btn-success" onclick="/recipes/">
    <a href="/logout" class="text-decoration-none text-white"> Logout </a>
  </button>
</div>


{% endblock body %}